---
import faqData from '../data/faq.json';
---

<!-- Sección de Preguntas Frecuentes -->
<section class="relative py-20 overflow-hidden bg-gradient-to-r from-gray-900 to-gray-800">
  <!-- Líneas dinámicas de fondo -->
  <div class="absolute inset-0 z-0">
    <svg
      class="w-full h-full opacity-20"
      viewBox="0 0 1440 600"
      preserveAspectRatio="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M0 300Q240 400 480 300T960 300T1440 400"
        fill="none"
        stroke="#3B82F6"
        stroke-width="2"
        stroke-dasharray="6 6"
      />
      <path
        d="M0 400Q240 500 480 400T960 400T1440 500"
        fill="none"
        stroke="#3B82F6"
        stroke-width="2"
        stroke-dasharray="6 6"
      />
    </svg>
  </div>

  <!-- Contenido de la sección -->
  <div class="container mx-auto px-6 relative z-10">
    <h2 class="text-4xl md:text-5xl font-bold text-white mb-16 text-center">
      Preguntas Frecuentes
    </h2>

    <!-- Acordeón de preguntas -->
    <div class="max-w-3xl mx-auto">
      {faqData.map((faq, index) => (
        <div class="mb-4">
          <!-- Pregunta -->
          <button
            class="w-full flex justify-between items-center bg-gray-800 p-6 rounded-lg text-left hover:bg-gray-700 transition duration-300"
            data-faq-id={index}
          >
            <span class="text-lg font-medium text-white">{faq.question}</span>
            <span class="text-blue-500 text-2xl">+</span>
          </button>
          <!-- Respuesta -->
          <div
            class="hidden bg-gray-700 p-6 rounded-b-lg"
            data-faq-answer={index}
          >
            <p class="text-gray-400">{faq.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Script para manejar el acordeón -->
<script>
  // Esperar a que el DOM esté cargado
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('button[data-faq-id]');
    
    buttons.forEach(button => {
      button.addEventListener('click', (event) => {
        const faqId = button.getAttribute('data-faq-id');
        const answer = document.querySelector(`div[data-faq-answer="${faqId}"]`);
        const icon = button.querySelector('span:last-child');

        // Toggle de la respuesta
        if (answer) {
          answer.classList.toggle('hidden');
          icon.textContent = answer.classList.contains('hidden') ? '+' : '−';
        }
      });
    });
  });
</script>